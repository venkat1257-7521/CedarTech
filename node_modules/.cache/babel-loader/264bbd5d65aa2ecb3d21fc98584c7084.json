{"ast":null,"code":"import _slicedToArray from \"/Users/venkat/Desktop/black-dashboard-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/venkat/Desktop/black-dashboard-react/src/variables/PieChart.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { colors } from 'react-select';\nimport { VictoryPie, VictoryLabel } from 'victory';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Home = function Home() {\n  _s();\n\n  var data = [{\n    x: 1,\n    y: 1\n  }, {\n    x: 2,\n    y: 2\n  }, {\n    x: 3,\n    y: 3\n  }, {\n    x: 4,\n    y: 4\n  }, {\n    x: 5,\n    y: 5\n  }, {\n    x: 6,\n    y: 6\n  }];\n  var colorScales = data.map(function (item) {\n    return item.color;\n  });\n\n  function pieLabelRadius(fraction) {\n    if (fraction === 1) {\n      return 0;\n    } else if (fraction >= .5) {\n      return 0.5;\n    } else {\n      var t = Math.tan(fraction * Math.PI / 2);\n      return 2 * t / ((1 + t) * (1 + t));\n    }\n  } // dummy data\n\n\n  var confirmStatus = \"C\";\n  var pendingStatus = \"P\";\n  var categoriesData = [{\n    id: 1,\n    name: \"Education\",\n    color: \"#FFFF00\",\n    expenses: [{\n      id: 1,\n      title: \"Tuition Fee\",\n      description: \"Tuition fee\",\n      location: \"ByProgrammers' tuition center\",\n      total: 100.00,\n      status: pendingStatus\n    }, {\n      id: 2,\n      title: \"Arduino\",\n      description: \"Hardward\",\n      location: \"ByProgrammers' tuition center\",\n      total: 30.00,\n      status: pendingStatus\n    }, {\n      id: 3,\n      title: \"Javascript Books\",\n      description: \"Javascript books\",\n      location: \"ByProgrammers' Book Store\",\n      total: 20.00,\n      status: confirmStatus\n    }, {\n      id: 4,\n      title: \"PHP Books\",\n      description: \"PHP books\",\n      location: \"ByProgrammers' Book Store\",\n      total: 20.00,\n      status: confirmStatus\n    }]\n  }, {\n    id: 2,\n    name: \"Nutrition\",\n    color: \"#ADD8E6\",\n    expenses: [{\n      id: 5,\n      title: \"Vitamins\",\n      description: \"Vitamin\",\n      location: \"ByProgrammers' Pharmacy\",\n      total: 25.00,\n      status: pendingStatus\n    }, {\n      id: 6,\n      title: \"Protein powder\",\n      description: \"Protein\",\n      location: \"ByProgrammers' Pharmacy\",\n      total: 50.00,\n      status: confirmStatus\n    }]\n  }, {\n    id: 3,\n    name: \"Child\",\n    color: \"#008000\",\n    expenses: [{\n      id: 7,\n      title: \"Toys\",\n      description: \"toys\",\n      location: \"ByProgrammers' Toy Store\",\n      total: 25.00,\n      status: confirmStatus\n    }, {\n      id: 8,\n      title: \"Baby Car Seat\",\n      description: \"Baby Car Seat\",\n      location: \"ByProgrammers' Baby Care Store\",\n      total: 100.00,\n      status: pendingStatus\n    }, {\n      id: 9,\n      title: \"Pampers\",\n      description: \"Pampers\",\n      location: \"ByProgrammers' Supermarket\",\n      total: 100.00,\n      status: pendingStatus\n    }, {\n      id: 10,\n      title: \"Baby T-Shirt\",\n      description: \"T-Shirt\",\n      location: \"ByProgrammers' Fashion Store\",\n      total: 20.00,\n      status: pendingStatus\n    }]\n  }, {\n    id: 4,\n    name: \"Beauty & Care\",\n    color: \"#ffe5b4\",\n    expenses: [{\n      id: 11,\n      title: \"Skin Care product\",\n      description: \"skin care\",\n      location: \"ByProgrammers' Pharmacy\",\n      total: 10.00,\n      status: pendingStatus\n    }, {\n      id: 12,\n      title: \"Lotion\",\n      description: \"Lotion\",\n      location: \"ByProgrammers' Pharmacy\",\n      total: 50.00,\n      status: confirmStatus\n    }, {\n      id: 13,\n      title: \"Face Mask\",\n      description: \"Face Mask\",\n      location: \"ByProgrammers' Pharmacy\",\n      total: 50.00,\n      status: pendingStatus\n    }, {\n      id: 14,\n      title: \"Sunscreen cream\",\n      description: \"Sunscreen cream\",\n      location: \"ByProgrammers' Pharmacy\",\n      total: 50.00,\n      status: pendingStatus\n    }]\n  }, {\n    id: 5,\n    name: \"Sports\",\n    color: \"#800080\",\n    expenses: [{\n      id: 15,\n      title: \"Gym Membership\",\n      description: \"Monthly Fee\",\n      location: \"ByProgrammers' Gym\",\n      total: 45.00,\n      status: pendingStatus\n    }, {\n      id: 16,\n      title: \"Gloves\",\n      description: \"Gym Equipment\",\n      location: \"ByProgrammers' Gym\",\n      total: 15.00,\n      status: confirmStatus\n    }]\n  }, {\n    id: 6,\n    name: \"Clothing\",\n    color: \"ff0000\",\n    expenses: [{\n      id: 17,\n      title: \"T-Shirt\",\n      description: \"Plain Color T-Shirt\",\n      location: \"ByProgrammers' Mall\",\n      total: 20.00,\n      status: pendingStatus\n    }, {\n      id: 18,\n      title: \"Jeans\",\n      description: \"Blue Jeans\",\n      location: \"ByProgrammers' Mall\",\n      total: 50.00,\n      status: confirmStatus\n    }]\n  }];\n\n  var _React$useState = React.useState(categoriesData),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      categories = _React$useState2[0],\n      setCategories = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      selectedCategory = _React$useState4[0],\n      setSelectedCategory = _React$useState4[1];\n\n  function processCategoryDataToDisplay() {\n    // Filter expenses with \"Confirmed\" status\n    var chartData = categories.map(function (item) {\n      var confirmExpenses = item.expenses.filter(function (a) {\n        return a.status == \"C\";\n      });\n      var total = confirmExpenses.reduce(function (a, b) {\n        return a + (b.total || 0);\n      }, 0);\n      return {\n        name: item.name,\n        y: total,\n        expenseCount: confirmExpenses.length,\n        color: item.color,\n        id: item.id\n      };\n    }); // filter out categories with no data/expenses\n\n    var filterChartData = chartData.filter(function (a) {\n      return a.y > 0;\n    }); // Calculate the total expenses\n\n    var totalExpense = filterChartData.reduce(function (a, b) {\n      return a + (b.y || 0);\n    }, 0); // Calculate percentage and repopulate chart data\n\n    var finalChartData = filterChartData.map(function (item) {\n      var percentage = (item.y / totalExpense * 100).toFixed(0);\n      return {\n        label: \"\".concat(percentage, \"%\"),\n        y: Number(item.y),\n        expenseCount: item.expenseCount,\n        color: item.color,\n        name: item.name,\n        id: item.id\n      };\n    });\n    return finalChartData;\n  }\n\n  function setSelectCategoryByName(name) {\n    var category = categories.filter(function (a) {\n      return a.name == name;\n    });\n    setSelectedCategory(category[0]);\n  }\n\n  function renderChart() {\n    var chartData = processCategoryDataToDisplay();\n    var colorScales = chartData.map(function (item) {\n      return item.color;\n    });\n    var totalExpenseCount = chartData.reduce(function (a, b) {\n      return a + (b.expenseCount || 0);\n    }, 0);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(VictoryPie, {\n        data: chartData,\n        labels: function labels(datum) {\n          return \"\".concat(datum.y);\n        },\n        radius: function radius(_ref) {\n          var datum = _ref.datum;\n          return selectedCategory && selectedCategory.name == datum.name ? 400 * 0.4 : 400 * 0.4 - 10;\n        },\n        innerRadius: 70 // labelRadius={({ innerRadius }) => (SIZES.width * 0.4 + innerRadius) / 2.5}\n        // style={{\n        //     labels: { fill: \"white\", ...FONTS.body3 },\n        //     parent: {\n        //         ...styles.shadow\n        //     },\n        // }}\n        // width={SIZES.width * 0.8}\n        // height={SIZES.width * 0.8}\n        ,\n        colorScale: colorScales,\n        events: [{\n          target: \"data\",\n          eventHandlers: {\n            onPress: function onPress() {\n              return [{\n                target: \"labels\",\n                mutation: function mutation(props) {\n                  var categoryName = chartData[props.index].name;\n                  setSelectCategoryByName(categoryName);\n                }\n              }];\n            }\n          }\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 9\n    }, this);\n  }\n\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: renderChart()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Home, \"wH+Y+OaXNTu3vH1V2jofq9mfLOA=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/venkat/Desktop/black-dashboard-react/src/variables/PieChart.js"],"names":["React","ReactDOM","colors","VictoryPie","VictoryLabel","Home","data","x","y","colorScales","map","item","color","pieLabelRadius","fraction","t","Math","tan","PI","confirmStatus","pendingStatus","categoriesData","id","name","expenses","title","description","location","total","status","useState","categories","setCategories","selectedCategory","setSelectedCategory","processCategoryDataToDisplay","chartData","confirmExpenses","filter","a","reduce","b","expenseCount","length","filterChartData","totalExpense","finalChartData","percentage","toFixed","label","Number","setSelectCategoryByName","category","renderChart","totalExpenseCount","alignItems","justifyContent","datum","target","eventHandlers","onPress","mutation","props","categoryName","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {colors} from 'react-select';\nimport { VictoryPie, VictoryLabel } from 'victory';\n\nconst Home = () => {\n\nconst data = [\n    {x: 1, y: 1},\n    {x: 2, y: 2},\n    {x: 3, y: 3},\n    {x: 4, y: 4},\n    {x: 5, y: 5},\n    {x: 6, y: 6}\n  ];\n  let colorScales = data.map((item) => item.color);\n  function pieLabelRadius(fraction) {\n    if (fraction === 1) {\n        return 0;\n    } else if (fraction >= .5) {\n        return 0.5;\n    } else {\n        const t = Math.tan(fraction * Math.PI / 2);\n        return (2*t) / ((1+t)*(1+t));\n    }\n}\n\n    // dummy data\n    const confirmStatus = \"C\"\n    const pendingStatus = \"P\"\n\n    let categoriesData = [\n        {\n            id: 1,\n            name: \"Education\",\n            color: \"#FFFF00\",\n            expenses: [\n                {\n                    id: 1,\n                    title: \"Tuition Fee\",\n                    description: \"Tuition fee\",\n                    location: \"ByProgrammers' tuition center\",\n                    total: 100.00,\n                    status: pendingStatus\n                },\n                {\n                    id: 2,\n                    title: \"Arduino\",\n                    description: \"Hardward\",\n                    location: \"ByProgrammers' tuition center\",\n                    total: 30.00,\n                    status: pendingStatus\n                },\n                {\n                    id: 3,\n                    title: \"Javascript Books\",\n                    description: \"Javascript books\",\n                    location: \"ByProgrammers' Book Store\",\n                    total: 20.00,\n                    status: confirmStatus\n                },\n                {\n                    id: 4,\n                    title: \"PHP Books\",\n                    description: \"PHP books\",\n                    location: \"ByProgrammers' Book Store\",\n                    total: 20.00,\n                    status: confirmStatus\n                }\n            ],\n        },\n        {\n            id: 2,\n            name: \"Nutrition\",\n            color: \"#ADD8E6\",\n            expenses: [\n                {\n                    id: 5,\n                    title: \"Vitamins\",\n                    description: \"Vitamin\",\n                    location: \"ByProgrammers' Pharmacy\",\n                    total: 25.00,\n                    status: pendingStatus,\n                },\n\n                {\n                    id: 6,\n                    title: \"Protein powder\",\n                    description: \"Protein\",\n                    location: \"ByProgrammers' Pharmacy\",\n                    total: 50.00,\n                    status: confirmStatus,\n                },\n\n            ],\n        },\n        {\n            id: 3,\n            name: \"Child\",\n            color: \"#008000\",\n            expenses: [\n                {\n                    id: 7,\n                    title: \"Toys\",\n                    description: \"toys\",\n                    location: \"ByProgrammers' Toy Store\",\n                    total: 25.00,\n                    status: confirmStatus,\n                },\n                {\n                    id: 8,\n                    title: \"Baby Car Seat\",\n                    description: \"Baby Car Seat\",\n                    location: \"ByProgrammers' Baby Care Store\",\n                    total: 100.00,\n                    status: pendingStatus,\n                },\n                {\n                    id: 9,\n                    title: \"Pampers\",\n                    description: \"Pampers\",\n                    location: \"ByProgrammers' Supermarket\",\n                    total: 100.00,\n                    status: pendingStatus,\n                },\n                {\n                    id: 10,\n                    title: \"Baby T-Shirt\",\n                    description: \"T-Shirt\",\n                    location: \"ByProgrammers' Fashion Store\",\n                    total: 20.00,\n                    status: pendingStatus,\n                },\n            ],\n        },\n        {\n            id: 4,\n            name: \"Beauty & Care\",\n            color: \"#ffe5b4\",\n            expenses: [\n                {\n                    id: 11,\n                    title: \"Skin Care product\",\n                    description: \"skin care\",\n                    location: \"ByProgrammers' Pharmacy\",\n                    total: 10.00,\n                    status: pendingStatus,\n                },\n                {\n                    id: 12,\n                    title: \"Lotion\",\n                    description: \"Lotion\",\n                    location: \"ByProgrammers' Pharmacy\",\n                    total: 50.00,\n                    status: confirmStatus,\n                },\n                {\n                    id: 13,\n                    title: \"Face Mask\",\n                    description: \"Face Mask\",\n                    location: \"ByProgrammers' Pharmacy\",\n                    total: 50.00,\n                    status: pendingStatus,\n                },\n                {\n                    id: 14,\n                    title: \"Sunscreen cream\",\n                    description: \"Sunscreen cream\",\n                    location: \"ByProgrammers' Pharmacy\",\n                    total: 50.00,\n                    status: pendingStatus,\n                },\n            ],\n        },\n        {\n            id: 5,\n            name: \"Sports\",\n            color: \"#800080\", \n            expenses: [\n                {\n                    id: 15,\n                    title: \"Gym Membership\",\n                    description: \"Monthly Fee\",\n                    location: \"ByProgrammers' Gym\",\n                    total: 45.00,\n                    status: pendingStatus,\n                },\n                {\n                    id: 16,\n                    title: \"Gloves\",\n                    description: \"Gym Equipment\",\n                    location: \"ByProgrammers' Gym\",\n                    total: 15.00,\n                    status: confirmStatus,\n                },\n            ],\n        },\n        {\n            id: 6,\n            name: \"Clothing\",\n            color: \"ff0000\",\n            expenses: [\n                {\n                    id: 17,\n                    title: \"T-Shirt\",\n                    description: \"Plain Color T-Shirt\",\n                    location: \"ByProgrammers' Mall\",\n                    total: 20.00,\n                    status: pendingStatus,\n                },\n                {\n                    id: 18,\n                    title: \"Jeans\",\n                    description: \"Blue Jeans\",\n                    location: \"ByProgrammers' Mall\",\n                    total: 50.00,\n                    status: confirmStatus,\n                },\n            ],\n        }\n    ]\n\nconst [categories, setCategories] = React.useState(categoriesData)\nconst [selectedCategory, setSelectedCategory] = React.useState(null)\n\n\nfunction processCategoryDataToDisplay() {\n    // Filter expenses with \"Confirmed\" status\n    \n    let chartData = categories.map((item) => {\n        let confirmExpenses = item.expenses.filter(a => a.status == \"C\")\n        var total = confirmExpenses.reduce((a, b) => a + (b.total || 0), 0)\n\n        return {\n            name: item.name,\n            y: total,\n            expenseCount: confirmExpenses.length,\n            color: item.color,\n            id: item.id\n        }\n    })\n\n    // filter out categories with no data/expenses\n    let filterChartData = chartData.filter(a => a.y > 0)\n\n    // Calculate the total expenses\n    let totalExpense = filterChartData.reduce((a, b) => a + (b.y || 0), 0)\n\n    // Calculate percentage and repopulate chart data\n    let finalChartData = filterChartData.map((item) => {\n        let percentage = (item.y / totalExpense * 100).toFixed(0)\n        return {\n            label: `${percentage}%`,\n            y: Number(item.y),\n            expenseCount: item.expenseCount,\n            color: item.color,\n            name: item.name,\n            id: item.id\n        }\n    })\n\n    return finalChartData\n}\n\nfunction setSelectCategoryByName(name) {\n    let category = categories.filter(a => a.name == name)\n    setSelectedCategory(category[0])\n}\n\nfunction renderChart() {\n    let chartData = processCategoryDataToDisplay()\n    let colorScales = chartData.map((item) => item.color)\n    let totalExpenseCount = chartData.reduce((a, b) => a + (b.expenseCount || 0), 0)\n\n\n\n    return (\n        <div  style={{ alignItems: 'center', justifyContent: 'center' }}>\n                               <VictoryPie\n                        \n                        data={chartData}\n                        labels={(datum) => `${datum.y}`}\n                        radius={({ datum }) => (selectedCategory && selectedCategory.name == datum.name) ? 400 * 0.4 : 400* 0.4 - 10}\n                        innerRadius={70}\n                        // labelRadius={({ innerRadius }) => (SIZES.width * 0.4 + innerRadius) / 2.5}\n                        // style={{\n                        //     labels: { fill: \"white\", ...FONTS.body3 },\n                        //     parent: {\n                        //         ...styles.shadow\n                        //     },\n                        // }}\n                        // width={SIZES.width * 0.8}\n                        // height={SIZES.width * 0.8}\n                        colorScale={colorScales}\n                        events={[{\n                            target: \"data\",\n                            eventHandlers: {\n                                onPress: () => {\n                                    return [{\n                                        target: \"labels\",\n                                        mutation: (props) => {\n                                            let categoryName = chartData[props.index].name\n                                            setSelectCategoryByName(categoryName)\n                                        }\n                                    }]\n                                }\n                            }\n                        }]}\n    \n                    /> \n        </div>\n    )\n\n};\n\nreturn(\n    <div>\n       {renderChart()} \n    </div>\n)\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}